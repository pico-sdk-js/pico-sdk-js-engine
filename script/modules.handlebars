// THIS FILE IS AUTOGENERATED
// Do not directly modify this file. Instead, consider adding to 
// /script/native-modules.json or the /script/*.handlebars templates.
// 
// To regenerate these files run 'node build --gen'
//

#include "modules.h"

{{#ifEquals @root.target 'rp2xxx'}}
#include "hardware/timer.h"
{{else}}
#include <sys/types.h>
{{/ifEquals}}

#include "jerryscript.h"
#include "jerry_helper.h"
#include "callback_engine.h"

{{#each functions}}
static jerry_value_t {{name}}_handler(const jerry_value_t function_obj, const jerry_value_t this_val, const jerry_value_t args_p[], const jerry_length_t args_count)
{
{{#if callback}}
{{> function_callback }}
{{else}}
{{> function_standard }}
{{/if}}
}

{{/each}}
jerry_value_t get_hardware_module()
{
    jerry_value_t module = jerry_create_object();
    jerry_value_t handler;

    {{#each functions}}
    handler = jerry_create_external_function({{name}}_handler);
    psj_jerry_set_property(module, "{{name}}", handler);
    jerry_release_value(handler);

    {{/each}}
    return module;
}